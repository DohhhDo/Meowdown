<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="MdImgConverter.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300"/>
        </Grid.ColumnDefinitions>
        
        <!-- 左侧：Markdown编辑器 -->
        <Grid Grid.Column="0" Margin="16">
            <ScrollViewer ZoomMode="Disabled">
                <TextBox 
                    x:Name="MarkdownEditor"
                    PlaceholderText="在此编辑Markdown内容..."
                    AcceptsReturn="True"
                    TextWrapping="Wrap"
                    FontFamily="Consolas"
                    FontSize="14"
                    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                    BorderBrush="{ThemeResource TextControlBorderBrush}"
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="12"/>
            </ScrollViewer>
        </Grid>
        
        <!-- 右侧：控制面板 -->
        <Grid Grid.Column="1" Background="{ThemeResource LayerFillColorDefaultBrush}" Margin="0,16,16,16">
            <ScrollViewer>
                <StackPanel Margin="20" Spacing="20">
                    
                    <!-- 转换按钮 -->
                    <Button 
                        x:Name="ConvertButton"
                        Content="转换"
                        HorizontalAlignment="Stretch"
                        Style="{StaticResource AccentButtonStyle}"
                        Click="ConvertButton_Click"/>
                    
                    <!-- 图片质量设置 -->
                    <Expander Header="图片质量" IsExpanded="True">
                        <StackPanel Spacing="12" Margin="0,12,0,0">
                            <TextBlock Text="调整WebP压缩质量" 
                                      Style="{StaticResource CaptionTextBlockStyle}"
                                      Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="60"/>
                                </Grid.ColumnDefinitions>
                                
                                <Slider 
                                    x:Name="QualitySlider"
                                    Grid.Column="0"
                                    Minimum="1"
                                    Maximum="100"
                                    Value="73"
                                    ValueChanged="QualitySlider_ValueChanged"/>
                                
                                <TextBlock 
                                    x:Name="QualityLabel"
                                    Grid.Column="1"
                                    Text="73%"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center"
                                    Style="{StaticResource BodyTextBlockStyle}"/>
                            </Grid>
                        </StackPanel>
                    </Expander>
                    
                    <!-- 转换进度 -->
                    <Expander Header="转换进度" IsExpanded="True">
                        <StackPanel Spacing="12" Margin="0,12,0,0">
                            <ProgressBar 
                                x:Name="ConversionProgress"
                                Value="0"
                                Maximum="100"/>
                            
                            <TextBlock 
                                x:Name="ProgressText"
                                Text="准备就绪"
                                Style="{StaticResource CaptionTextBlockStyle}"
                                HorizontalAlignment="Center"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </Expander>
                    
                    <!-- 预设配置 -->
                    <Expander Header="预设配置" IsExpanded="True">
                        <Grid Margin="0,12,0,0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <Button Grid.Row="0" Grid.Column="0" 
                                   Content="高质量&#x0a;90%" 
                                   Click="PresetButton_Click"
                                   Tag="90"
                                   Margin="2"/>
                            
                            <Button Grid.Row="0" Grid.Column="1" 
                                   Content="标准&#x0a;73%" 
                                   Click="PresetButton_Click"
                                   Tag="73"
                                   Style="{StaticResource AccentButtonStyle}"
                                   Margin="2"/>
                            
                            <Button Grid.Row="1" Grid.Column="0" 
                                   Content="压缩&#x0a;50%" 
                                   Click="PresetButton_Click"
                                   Tag="50"
                                   Margin="2"/>
                            
                            <Button Grid.Row="1" Grid.Column="1" 
                                   Content="极压缩&#x0a;30%" 
                                   Click="PresetButton_Click"
                                   Tag="30"
                                   Margin="2"/>
                        </Grid>
                    </Expander>
                    
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>

